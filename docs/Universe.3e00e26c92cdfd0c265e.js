(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,n){e.exports=n.p+"assets/fair_clouds_d1dce54.png"},38:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),o=n.n(a),i=n(36),s=n(29),c=n(30),d=n.n(c),l=n(32),u=n.n(l),h=n(33),p=n.n(h),m=n(35),w=n(34),f=Object(w.a)().translate([1024,512]).scale(325),b=function(e){var t=Object(m.a)("body").append("canvas").attr("width","2048px").attr("height","1024px"),n=t.node().getContext("2d");n.beginPath(),n.rect(-1,-1,t.node().width+1,t.node().height+1),n.fillStyle="#001A33",n.fill();var r=Object(w.b)().projection(f).context(n);return n.strokeStyle="#00ffff",n.lineWidth=1,n.fillStyle="#004080",n.beginPath(),r(e),n.fill(),n.stroke(),t},g=8,v=[{id:"a",rotation:Math.PI*(1/3),radius:g+2,startingPoint:0,speed:-1},{id:"b",rotation:Math.PI*(2/3),radius:g+4,startingPoint:Math.PI*(2/3),speed:.5},{id:"c",rotation:Math.PI,radius:g+3,startingPoint:Math.PI*(4/3),speed:-1.2}],y={flex:1,padding:"3px",display:"flex",flexDirection:"column"},M={flex:1,border:"1px solid #444",overflow:"hidden"},L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.satelliteControl={},t.resizeHandler=d()(function(){t.camera.aspect=t.content.clientWidth/t.content.clientHeight,t.camera.updateProjectionMatrix(),t.renderer.setSize(t.content.clientWidth,t.content.clientHeight)},100),t.init=function(){t.scene=new s.Scene,t.camera=new s.PerspectiveCamera(30,null,.1,1e3),t.camera.position.set(40,5,20),t.camera.lookAt(new s.Vector3(0,0,0)),t.renderer=new s.WebGLRenderer({alpha:!0,antialias:!0}),t.control=new(u()(s))(t.camera,t.renderer.domElement),t.control.zoomSpeed=.2,t.renderer.render(t.scene,t.camera),t.renderer.setSize(t.content.clientWidth,t.content.clientHeight),t.content.appendChild(t.renderer.domElement),t.resizeHandler(),window.addEventListener("resize",t.resizeHandler),t.animate()},t.renderLight=function(){var e=new s.SpotLight(new s.Color(16777215),.4);e.penumbra=1,e.angle=.4,e.castShadow=!0,t.camera.add(e),t.scene.add(t.camera)},t.renderGlobe=function(){var e=new s.SphereGeometry(g+.2,32,32),n=new s.MeshLambertMaterial({color:13158}),r=new s.MeshLambertMaterial({opacity:0,transparent:!0});t.cloudLayer=new s.Mesh(e,r);var a=new s.Mesh(new s.SphereGeometry(g+.25,32,32),new s.MeshStandardMaterial({color:16777215,opacity:.2,transparent:!0,metalness:1,roughness:.6}));t.globe=new s.Mesh(new s.SphereGeometry(g,32,32),n),t.scene.add(t.globe,t.cloudLayer,a)},t.animate=function(){t.control.update(),requestAnimationFrame(t.animate),t.globe&&(t.globe.rotation.y+=7e-4),t.cloudLayer&&(t.cloudLayer.rotation.y+=.001),v.forEach(function(e){var n=t.satelliteControl[e.id];n&&n.pivot&&(n.pivot.rotation.z+=.01*e.speed)}),t.renderer.render(t.scene,t.camera)},t.setContent=function(e){return t.content=e},t.loadLand=function(){return r.a(t,void 0,void 0,function(){var e,t,n,a,o,c,d;return r.c(this,function(r){switch(r.label){case 0:return[4,fetch("https://raw.githubusercontent.com/sghall/webgl-globes/master/data/world.json")];case 1:return[4,r.sent().json()];case 2:return e=r.sent(),t=Object(i.a)(e,e.objects.countries),n=b(t),a=new s.Texture(n.node()),o=new s.TextureLoader,c=o.load("https://raw.githubusercontent.com/turban/webgl-earth/master/images/elev_bump_4k.jpg"),a.needsUpdate=!0,n.remove(),d=new s.MeshPhongMaterial({map:a,bumpMap:c,bumpScale:.2}),this.globe.material=d,[2]}})})},t.loadCloud=function(){return r.a(t,void 0,void 0,function(){var e,t,n;return r.c(this,function(r){return e=new s.TextureLoader,"https://raw.githubusercontent.com/turban/webgl-earth/master/images/fair_clouds_4k.png",t=p.a,n=e.load(t),this.cloudLayer.material=new s.MeshPhongMaterial({map:n,color:14540253,transparent:!0,opacity:1}),[2]})})},t.addSatellite=function(e){var n=new s.Object3D,r=new s.BoxGeometry(1,2,1),a=new s.MeshBasicMaterial({color:"cyan",wireframe:!0}),o=new s.Mesh(r,a);o.position.y=e.radius;var i=new s.CircleGeometry(3,32);i.vertices.shift(),i.vertices.push(i.vertices[0].clone());var c=new s.Line(i,new s.LineDashedMaterial({color:"violet",opacity:.6,transparent:!0}));c.rotation.x=Math.PI/2,c.position.y=g-.3,n.add(c);var d=new s.SpotLight(new s.Color(65535),1);d.penumbra=.1,d.angle=1,d.castShadow=!0,o.add(d),n.add(o),n.rotation.x=e.rotation+Math.PI/2,n.rotation.z=e.startingPoint,t.satelliteControl[e.id]={pivot:n},t.scene.add(n)},t}return r.b(t,e),t.prototype.componentDidMount=function(){var e=this;this.init(),this.renderGlobe(),this.renderLight(),this.loadCloud(),this.loadLand(),v.forEach(function(t){return e.addSatellite(t)})},t.prototype.componentWillUnmount=function(){window.removeEventListener("resize",this.resizeHandler)},t.prototype.render=function(){return o.a.createElement("div",{style:y},o.a.createElement("div",{ref:this.setContent,style:M}))},t}(o.a.Component);t.default=L}}]);