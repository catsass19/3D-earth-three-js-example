(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{36:function(e,t,i){"use strict";i.r(t),i.d(t,"CAMERA_POSITION_Y",(function(){return m}));var n=i(2),r=i(0),o=i.n(r),s=i(31),a=i(32),h=i.n(a),d=i(34);const c=({color:e})=>o.a.createElement("div",{style:{height:"30px",width:"30px",backgroundColor:e}});var l;!function(e){e[e.IN=0]="IN",e[e.OUT=1]="OUT"}(l||(l={}));const m={START:9,ZOOM_IN:-1,ZOOM_OUT:120},w=[0,1118481,3355443,5592405,6710886,14540253],p=[4482662,8969693,4482662,8969693,8978431],g=new s.i(-1,0,-1),u=new s.i(1,0,-1),v=new s.i(0,-3,0);let A=0;const f=e=>(A=(A+1)%e.length,new s.b(e[A])),M={flex:1,display:"flex",flexDirection:"column"},y={flex:1,overflow:"hidden"};let x=!1,O=!1,z=.0015,E=.1;let S=.001,b=.1;class I extends o.a.Component{constructor(){super(...arguments),this.camMovingDirection=l.IN,this.origin=new s.i(0,0,0),this.resizeHandler=h()(()=>{this.camera.aspect=this.content.clientWidth/this.content.clientHeight,this.camera.updateProjectionMatrix(),this.renderer.setSize(this.content.clientWidth,this.content.clientHeight)},100),this.cameraRotation=()=>{O||(this.camera.rotation.z+=Math.PI/5e4)},this.init=()=>{this.scene=new s.g,this.camera=new s.f(50,null,2,1e3),this.camera.position.set(0,m.START,0),this.camera.lookAt(new s.i(0,0,0)),this.renderer=new s.j({alpha:!0,antialias:!0}),this.renderer.render(this.scene,this.camera),this.renderer.setSize(this.content.clientWidth,this.content.clientHeight),this.content.appendChild(this.renderer.domElement),this.resizeHandler(),window.addEventListener("resize",this.resizeHandler),this.animate()},this.addAxis=()=>{const e=new s.c(50,30,4473924,3355443);this.scene.add(e)},this.animate=()=>{this.cameraRotation(),requestAnimationFrame(this.animate),this.renderer.render(this.scene,this.camera)},this.setContent=e=>this.content=e,this.renderArrows=()=>{(e=>{const t=[];for(A=0;A<e;A++)t.push(new s.i(2*Math.random()-1,2*Math.random()-1,2*Math.random()-1).normalize());return t})(2e3).forEach(e=>{this.addArrow(e,e.multiplyScalar(1.5*(Math.random()+.1)),Math.random()/4+4,f(w))})},this.renderLightArrows=()=>{const e=(e=>{const t=[];for(A=0;A<e;A++)t.push(new s.i(2*Math.random()-1,2*Math.random(),2*Math.random()-1).normalize());return t})(500);for(let t=0;t<e.length;t++){const i=e[t];(()=>{Object(n.a)(this,void 0,void 0,(function*(){yield new Promise(e=>setTimeout(e,5e3*Math.random())),this.addArrow(i,i.multiplyScalar(1.5*(Math.random()+.1)),Math.random()/8+4,f(p),.05)}))})()}},this.addArrow=(e,t,i=10,n=16776960,r=.1)=>{const o=new s.a(e,t,i,n,r);this.scene.add(o)}}componentDidMount(){this.init(),this.renderArrows(),this.startListeningKeyboard(),this.state={show:!1}}cameraMovingHandler(){if(!x)return this.camMovingDirection===l.IN?(this.zoomIn(),void(this.camMovingDirection=l.OUT)):this.camMovingDirection===l.OUT?(this.zoomOut(),void(x=!0)):void 0;location.reload()}zoomIn(){d.a.to(this.camera.position,{y:m.ZOOM_IN,duration:6,ease:"power4.inOut",onUpdate:()=>{this.sphere||this.camera.position.y<.5&&(this.addGlowSphere(),this.longArrow=new s.a(g,v,E,4500138),this.shortArrow=new s.a(u,v,.1,"red",.01,.01),this.scene.add(this.longArrow),this.scene.add(this.shortArrow),this.longArrowGrow(),this.shortArrowGrow())},onComplete:()=>{this.setState({show:!0}),this.scene.remove(this.sphere),this.startListeningKeyboard()}})}zoomOut(){d.a.to(this.camera.position,{y:m.ZOOM_OUT,duration:2,ease:"power1.inOut",onComplete:()=>{z=.15,S=.05,this.startListeningKeyboard()}})}longArrowGrow(){var e;E+=z,null===(e=this.longArrow)||void 0===e||e.setLength(E),E<=60&&requestAnimationFrame(()=>{this.longArrowGrow()})}shortArrowGrow(){var e;b+=S,null===(e=this.shortArrow)||void 0===e||e.setLength(b),b<=20&&requestAnimationFrame(()=>{this.shortArrowGrow()})}componentWillUnmount(){window.removeEventListener("resize",this.resizeHandler)}render(){var e;return o.a.createElement("div",{style:M},(null===(e=this.state)||void 0===e?void 0:e.show)&&o.a.createElement("div",{style:{position:"fixed",top:"30px",right:"30px",border:"1px solid white",borderRadius:"10px",padding:"5px",backgroundColor:"rgba(0, 0, 0, 0.7)",color:"white"}},o.a.createElement("div",{style:{margin:"10px",display:"flex",alignItems:"center"}},o.a.createElement(c,{color:"red"}),o.a.createElement("span",{style:{marginLeft:"10px"}},"Aggregated Signature size")),o.a.createElement("div",{style:{margin:"10px",display:"flex",alignItems:"center"}},o.a.createElement(c,{color:"#88ffff"}),o.a.createElement("span",{style:{marginLeft:"10px"}},"Total Signature Size"))),o.a.createElement("div",{ref:this.setContent,style:y}))}addGlowSphere(){const e=new s.h(.2,32,16),t=new s.e({color:65535});this.sphere=new s.d(e,t),this.sphere.position.set(0,-2,0),this.scene.add(this.sphere)}startListeningKeyboard(){const e=t=>{const{code:i}=t;"Space"===i&&(O=!0,this.cameraMovingHandler(),document.removeEventListener("keydown",e))};document.addEventListener("keydown",e,!1)}}t.default=I}}]);